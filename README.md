# HaiTech CRM ğŸ“

××¢×¨×›×ª CRM ××•×ª×××ª ××™×©×™×ª ×œ× ×™×”×•×œ ×¢×¡×§ ×—×•×’×™ ×ª×›× ×•×ª ×©×œ **HaiTech** â€” × ×™×”×•×œ ××—×–×•×¨×™×, ××¤×’×©×™×, ×ª×œ××™×“×™×, ××“×¨×™×›×™×, ×¡× ×™×¤×™×, ×”×•×¦××•×ª ×•×¢×•×“.

> **Production:** https://crm.orma-ai.com  
> **Development:** http://129.159.133.209:3002/

---

## ğŸ“‹ ×ª×•×›×Ÿ ×¢× ×™×™× ×™×

- [×¡×§×™×¨×” ×›×œ×œ×™×ª](#-×¡×§×™×¨×”-×›×œ×œ×™×ª)
- [××¨×›×™×˜×§×˜×•×¨×”](#-××¨×›×™×˜×§×˜×•×¨×”)
- [Stack ×˜×›× ×•×œ×•×’×™](#-stack-×˜×›× ×•×œ×•×’×™)
- [×”×ª×§× ×” ×•×”×¨×¦×”](#-×”×ª×§× ×”-×•×”×¨×¦×”)
- [×¤×§×•×“×•×ª Docker](#-×¤×§×•×“×•×ª-docker)
- [××©×ª× ×™ ×¡×‘×™×‘×”](#-××©×ª× ×™-×¡×‘×™×‘×”)
- [API Endpoints](#-api-endpoints)
- [××•×“×œ ×”× ×ª×•× ×™×](#-××•×“×œ-×”× ×ª×•× ×™×)
- [×ª×”×œ×™×š ×¤×™×ª×•×—](#-×ª×”×œ×™×š-×¤×™×ª×•×—)
- [××™×’×¨×¦×™×” ×-Fireberry](#-××™×’×¨×¦×™×”-×-fireberry)

---

## ğŸ” ×¡×§×™×¨×” ×›×œ×œ×™×ª

×”××¢×¨×›×ª ××—×œ×™×¤×” ××ª Fireberry CRM ×•××¡×¤×§×ª:

- **× ×™×”×•×œ ××—×–×•×¨×™× (Cycles)** â€” ××—×–×•×¨×™ ×œ×™××•×“ ×¢× ×¡×•×’×™ ×ª××—×•×¨ ×©×•× ×™× (×¤×¨×˜×™, ××•×¡×“×™ ×œ×¤×™ ×™×œ×“, ××•×¡×“×™ ×§×‘×•×¢)
- **× ×™×”×•×œ ××¤×’×©×™× (Meetings)** â€” ×œ×•"×–, × ×•×›×—×•×ª, ×¡×˜×˜×•×¡, ×”×§×œ×˜×•×ª Zoom
- **× ×™×”×•×œ ×ª×œ××™×“×™× ×•×œ×§×•×—×•×ª** â€” ×¨×™×©×•×, ××¢×§×‘ ×ª×©×œ×•××™×, ×”×™×¡×˜×•×¨×™×”
- **× ×™×”×•×œ ××“×¨×™×›×™×** â€” ×ª×¢×¨×™×¤×™×, ×©×™×•×š ×œ××—×–×•×¨×™×, ×¤×•×¨×˜×œ ××“×¨×™×š ×¢× magic link
- **× ×™×”×•×œ ×¡× ×™×¤×™×** â€” ×‘×ª×™ ×¡×¤×¨, ××ª× "×¡×™×, ××•× ×œ×™×™×Ÿ, ×¤×¨×•× ×˜×œ×™
- **×”×–×× ×•×ª ××•×¡×“×™×•×ª** â€” ×—×•×–×™×, ×ª××—×•×¨ ×œ×¤×™ ××¤×’×©, ××¢×§×‘
- **××¢×§×‘ ×”×•×¦××•×ª** â€” ×”×•×¦××•×ª ×‘×¨××ª ××—×–×•×¨ ×•××¤×’×© (× ×¡×™×¢×•×ª, ×—×•××¨×™×, ××“×¨×™×š × ×•×¡×£)
- **××™× ×˜×’×¨×¦×™×™×ª Zoom** â€” ×™×¦×™×¨×ª ×¤×’×™×©×•×ª ××•×˜×•××˜×™×ª, webhooks, ×”×§×œ×˜×•×ª
- **×”×•×“×¢×•×ª WhatsApp** â€” ×“×¨×š Green API
- **×©×œ×™×—×ª ××™×™×œ×™×** â€” ×“×¨×š Gmail (info@hai.tech)
- **×ª××œ×•×œ ×•-AI** â€” ×¡×™×›×•× ×©×™×¢×•×¨×™× ×¢× OpenAI
- **Dashboard ×•×“×•×—×•×ª** â€” ×¡×˜×˜×™×¡×˜×™×§×•×ª, ×ª×¦×•×’×•×ª ×©××•×¨×•×ª, audit log
- **×¤×•×¨×˜×œ ××“×¨×™×›×™×** â€” ×’×™×©×” ××•×’×‘×œ×ª ×œ××“×¨×™×›×™× ×“×¨×š invite/magic link

---

## ğŸ— ××¨×›×™×˜×§×˜×•×¨×”

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Frontend      â”‚â”€â”€â”€â”€â–¶â”‚   Backend API   â”‚â”€â”€â”€â”€â–¶â”‚  PostgreSQL  â”‚
â”‚   React + Vite  â”‚     â”‚   Express.js    â”‚     â”‚  (Prisma)    â”‚
â”‚   Port 5173     â”‚     â”‚   Port 3001/2   â”‚     â”‚  Port 5432   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚     Redis       â”‚
                        â”‚   (BullMQ)      â”‚
                        â”‚   Port 6379     â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Production:** ×”-Frontend ××•×’×© ×›-static files ××ª×•×š ×”-Backend (×ª×™×§×™×™×ª `frontend-dist/`).  
**Development:** ×”-Frontend ×¨×¥ ×‘× ×¤×¨×“ ×¢×œ port 5173 ×¢× Vite dev server.

---

## ğŸ›  Stack ×˜×›× ×•×œ×•×’×™

### Backend
| ×˜×›× ×•×œ×•×’×™×” | ×©×™××•×© |
|-----------|-------|
| **Node.js + TypeScript** | ×©×¨×ª API |
| **Express.js** | HTTP framework |
| **Prisma ORM** | ×’×™×©×” ×œ-database |
| **PostgreSQL 16** | ×‘×¡×™×¡ × ×ª×•× ×™× |
| **Redis 7** | ×ª×•×¨×™× (BullMQ), cache |
| **Zod** | validation ×©×œ schemas |
| **JWT** | ××™××•×ª ××©×ª××©×™× (access + refresh tokens) |
| **bcrypt** | ×”×¦×¤× ×ª ×¡×™×¡×××•×ª |
| **nodemailer** | ×©×œ×™×—×ª ××™×™×œ×™× |
| **node-cron** | ××©×™××•×ª ××ª×•×–×× ×•×ª |
| **OpenAI** | ×ª××œ×•×œ ×•×¡×™×›×•× ×©×™×¢×•×¨×™× |
| **Vitest** | ×‘×“×™×§×•×ª |

### Frontend
| ×˜×›× ×•×œ×•×’×™×” | ×©×™××•×© |
|-----------|-------|
| **React 19** | UI framework |
| **Vite 7** | build tool + dev server |
| **TypeScript** | type safety |
| **TailwindCSS 4** | ×¢×™×¦×•×‘ |
| **React Router 7** | × ×™×•×•×˜ |
| **TanStack React Query** | × ×™×”×•×œ state ×©×œ API |
| **React Hook Form + Zod** | ×˜×¤×¡×™× ×•-validation |
| **Recharts** | ×’×¨×¤×™× ×•×ª×¨×©×™××™× |
| **Lucide React** | ××™×™×§×•× ×™× |

### Infrastructure
| ×˜×›× ×•×œ×•×’×™×” | ×©×™××•×© |
|-----------|-------|
| **Docker + Docker Compose** | containerization |
| **Helmet** | ××‘×˜×—×ª HTTP headers |
| **express-rate-limit** | ×”×’× ×” ×-brute force |

---

## ğŸš€ ×”×ª×§× ×” ×•×”×¨×¦×”

### ×“×¨×™×©×•×ª ××§×“×™××•×ª
- Node.js >= 18
- Docker + Docker Compose
- Git

### ×”×¨×¦×” ×¢× Docker (××•××œ×¥)

```bash
# Clone
git clone <repo-url> haitech-crm
cd haitech-crm

# ×¦×•×¨ ×§×•×‘×¥ .env ×‘×ª×™×§×™×™×ª backend
cp backend/.env.example backend/.env
# ×¢×¨×•×š ××ª ×”××©×ª× ×™× ×œ×¤×™ ×”×¦×•×¨×š

# ×”×¨×¦×ª ×›×œ ×”×©×™×¨×•×ª×™× (production)
docker compose up -d

# ×”×¨×¦×ª ×¡×‘×™×‘×ª development
docker compose -f docker-compose.dev.yml up -d
```

### ×”×¨×¦×” ××§×•××™×ª (×œ×œ× Docker)

```bash
# Backend
cd backend
npm install
npx prisma generate
npx prisma db push
npm run db:seed       # ×™×•×¦×¨ admin user
npm run dev           # ×¨×¥ ×¢×œ port 3001

# Frontend (terminal × ×¤×¨×“)
cd frontend
npm install
npm run dev           # ×¨×¥ ×¢×œ port 5173
```

### ×›× ×™×¡×” ×¨××©×•× ×”
- **URL:** https://crm.orma-ai.com (××• localhost)
- **Email:** `admin@haitech.co.il`
- **Password:** `admin123`

---

## ğŸ³ ×¤×§×•×“×•×ª Docker

### Containers
| Container | ×ª×™××•×¨ | Port |
|-----------|--------|------|
| `haitech-api` | Backend API (production) | 3001 |
| `haitech-api-dev` | Backend API (development) | 3002 |
| `haitech-db` | PostgreSQL 16 | 5432 |
| `haitech-redis` | Redis 7 | 6379 |

### ×¤×§×•×“×•×ª ×©×™××•×©×™×•×ª

```bash
# ×”×¨×¦×”/×¢×¦×™×¨×”
docker compose up -d                    # ×”×¤×¢×œ×”
docker compose down                     # ×¢×¦×™×¨×”
docker compose restart api              # restart ×œ-API ×‘×œ×‘×“

# ×œ×•×’×™×
docker logs -f haitech-api              # ×œ×•×’×™× ×©×œ production API
docker logs -f haitech-api-dev          # ×œ×•×’×™× ×©×œ dev API
docker logs -f haitech-db               # ×œ×•×’×™× ×©×œ DB

# Build ××—×“×©
docker compose build --no-cache api     # build ××—×“×©
docker compose up -d --build            # build + ×”×¤×¢×œ×”

# ×’×™×©×” ×œ-database
docker exec -it haitech-db psql -U haitech -d haitech_crm

# ×’×™×©×” ×œ-Redis
docker exec -it haitech-redis redis-cli

# Prisma Studio (GUI ×œ×‘×¡×™×¡ ×”× ×ª×•× ×™×)
cd backend && npx prisma studio
```

### Deploy (production)

```bash
# Build frontend
cd frontend && npm run build
# ×”×¢×ª×§×ª dist ×œ-backend
cp -r dist ../backend/frontend-dist

# Build + deploy
cd .. && docker compose up -d --build api
```

---

## ğŸ” ××©×ª× ×™ ×¡×‘×™×‘×”

×§×•×‘×¥ `backend/.env`:

| ××©×ª× ×” | ×ª×™××•×¨ | ×“×•×’××” |
|-------|--------|-------|
| `DATABASE_URL` | PostgreSQL connection string | `postgresql://haitech:pass@localhost:5432/haitech_crm` |
| `PORT` | ×¤×•×¨×˜ ×”-API | `3001` |
| `NODE_ENV` | ×¡×‘×™×‘×” | `production` / `development` |
| `JWT_SECRET` | ××¤×ª×— ×—×ª×™××ª JWT | (××—×¨×•×–×ª ××§×¨××™×ª) |
| `JWT_REFRESH_SECRET` | ××¤×ª×— refresh token | (××—×¨×•×–×ª ××§×¨××™×ª) |
| `JWT_EXPIRES_IN` | ×ª×•×§×£ access token | `1d` |
| `JWT_REFRESH_EXPIRES_IN` | ×ª×•×§×£ refresh token | `7d` |
| `REDIS_HOST` | ×›×ª×•×‘×ª Redis | `redis` / `localhost` |
| `REDIS_PORT` | ×¤×•×¨×˜ Redis | `6379` |
| `FRONTEND_URL` | ×›×ª×•×‘×ª ×”-Frontend | `https://crm.orma-ai.com` |
| `API_KEY` | ××¤×ª×— API ×—×™×¦×•× ×™ | (××—×¨×•×–×ª) |
| `ZOOM_ACCOUNT_ID` | Zoom OAuth | (×-Zoom marketplace) |
| `ZOOM_CLIENT_ID` | Zoom OAuth | (×-Zoom marketplace) |
| `ZOOM_CLIENT_SECRET` | Zoom OAuth | (×-Zoom marketplace) |
| `ZOOM_SECRET_TOKEN` | Zoom webhook verification | (×-Zoom marketplace) |
| `ZOOM_WEBHOOK_URL` | Webhook URL ×œ-Make.com | `https://hook.eu1.make.com/...` |
| `GREEN_API_INSTANCE_ID` | Green API (WhatsApp) | (×-Green API) |
| `GREEN_API_TOKEN` | Green API token | (×-Green API) |
| `GMAIL_USER` | ×›×ª×•×‘×ª Gmail ×œ×©×œ×™×—×” | `info@hai.tech` |
| `GMAIL_PASS` | App password ×©×œ Gmail | (×-Google) |
| `OPENAI_API_KEY` | ××¤×ª×— OpenAI | `sk-...` |

---

## ğŸ“¡ API Endpoints

×›×œ ×”-endpoints × ××¦××™× ×ª×—×ª `/api/`. × ×“×¨×© JWT token ×‘-header (×œ××¢×˜ auth ×•-public routes).

### Authentication
| Method | Endpoint | ×ª×™××•×¨ |
|--------|----------|--------|
| POST | `/api/auth/login` | ×”×ª×—×‘×¨×•×ª |
| POST | `/api/auth/refresh` | ×—×™×“×•×© token |
| POST | `/api/auth/reset-password` | ××™×¤×•×¡ ×¡×™×¡××” |

### Cycles (××—×–×•×¨×™×)
| Method | Endpoint | ×ª×™××•×¨ |
|--------|----------|--------|
| GET | `/api/cycles` | ×¨×©×™××ª ××—×–×•×¨×™× (×¢× filters, pagination) |
| GET | `/api/cycles/:id` | ×¤×¨×˜×™ ××—×–×•×¨ |
| POST | `/api/cycles` | ×™×¦×™×¨×ª ××—×–×•×¨ ×—×“×© |
| PUT | `/api/cycles/:id` | ×¢×“×›×•×Ÿ ××—×–×•×¨ |
| DELETE | `/api/cycles/:id` | ××—×™×§×ª ××—×–×•×¨ (soft delete) |

### Meetings (××¤×’×©×™×)
| Method | Endpoint | ×ª×™××•×¨ |
|--------|----------|--------|
| GET | `/api/meetings` | ×¨×©×™××ª ××¤×’×©×™× |
| GET | `/api/meetings/:id` | ×¤×¨×˜×™ ××¤×’×© |
| POST | `/api/meetings` | ×™×¦×™×¨×ª ××¤×’×© |
| PUT | `/api/meetings/:id` | ×¢×“×›×•×Ÿ ××¤×’×© |
| PATCH | `/api/meetings/:id/status` | ×¢×“×›×•×Ÿ ×¡×˜×˜×•×¡ |
| DELETE | `/api/meetings/:id` | ××—×™×§×ª ××¤×’×© |

### Customers (×œ×§×•×—×•×ª)
| Method | Endpoint | ×ª×™××•×¨ |
|--------|----------|--------|
| GET | `/api/customers` | ×¨×©×™××ª ×œ×§×•×—×•×ª |
| GET | `/api/customers/:id` | ×¤×¨×˜×™ ×œ×§×•×— |
| POST | `/api/customers` | ×™×¦×™×¨×ª ×œ×§×•×— |
| PUT | `/api/customers/:id` | ×¢×“×›×•×Ÿ ×œ×§×•×— |
| DELETE | `/api/customers/:id` | ××—×™×§×ª ×œ×§×•×— |

### Students (×ª×œ××™×“×™×)
| Method | Endpoint | ×ª×™××•×¨ |
|--------|----------|--------|
| GET | `/api/students` | ×¨×©×™××ª ×ª×œ××™×“×™× |
| POST | `/api/students` | ×™×¦×™×¨×ª ×ª×œ××™×“ |
| PUT | `/api/students/:id` | ×¢×“×›×•×Ÿ ×ª×œ××™×“ |
| DELETE | `/api/students/:id` | ××—×™×§×ª ×ª×œ××™×“ |

### Instructors (××“×¨×™×›×™×)
| Method | Endpoint | ×ª×™××•×¨ |
|--------|----------|--------|
| GET | `/api/instructors` | ×¨×©×™××ª ××“×¨×™×›×™× |
| POST | `/api/instructors` | ×™×¦×™×¨×ª ××“×¨×™×š |
| PUT | `/api/instructors/:id` | ×¢×“×›×•×Ÿ ××“×¨×™×š |
| POST | `/api/instructors/:id/invite` | ×©×œ×™×—×ª invite link |

### Registrations (×¨×™×©×•××™×)
| Method | Endpoint | ×ª×™××•×¨ |
|--------|----------|--------|
| GET | `/api/registrations` | ×¨×©×™××ª ×¨×™×©×•××™× |
| POST | `/api/registrations` | ×¨×™×©×•× ×ª×œ××™×“ ×œ××—×–×•×¨ |
| PUT | `/api/registrations/:id` | ×¢×“×›×•×Ÿ ×¨×™×©×•× |
| DELETE | `/api/registrations/:id` | ×‘×™×˜×•×œ ×¨×™×©×•× |

### Branches (×¡× ×™×¤×™×)
| Method | Endpoint | ×ª×™××•×¨ |
|--------|----------|--------|
| GET | `/api/branches` | ×¨×©×™××ª ×¡× ×™×¤×™× |
| POST | `/api/branches` | ×™×¦×™×¨×ª ×¡× ×™×£ |
| PUT | `/api/branches/:id` | ×¢×“×›×•×Ÿ ×¡× ×™×£ |

### Courses (×§×•×¨×¡×™×)
| Method | Endpoint | ×ª×™××•×¨ |
|--------|----------|--------|
| GET | `/api/courses` | ×¨×©×™××ª ×§×•×¨×¡×™× |
| POST | `/api/courses` | ×™×¦×™×¨×ª ×§×•×¨×¡ |
| PUT | `/api/courses/:id` | ×¢×“×›×•×Ÿ ×§×•×¨×¡ |

### Attendance (× ×•×›×—×•×ª)
| Method | Endpoint | ×ª×™××•×¨ |
|--------|----------|--------|
| GET | `/api/attendance/:meetingId` | × ×•×›×—×•×ª ×œ××¤×’×© |
| POST | `/api/attendance` | ×¨×™×©×•× × ×•×›×—×•×ª |

### Expenses (×”×•×¦××•×ª)
| Method | Endpoint | ×ª×™××•×¨ |
|--------|----------|--------|
| GET | `/api/expenses/cycle/:cycleId` | ×”×•×¦××•×ª ××—×–×•×¨ |
| POST | `/api/expenses/cycle` | ×”×•×¡×¤×ª ×”×•×¦××ª ××—×–×•×¨ |
| POST | `/api/expenses/meeting` | ×”×•×¡×¤×ª ×”×•×¦××ª ××¤×’×© |

### × ×•×¡×¤×™×
| Method | Endpoint | ×ª×™××•×¨ |
|--------|----------|--------|
| GET | `/api/views` | ×ª×¦×•×’×•×ª ×©××•×¨×•×ª |
| GET | `/api/audit` | ×œ×•×’ ×¤×¢×•×œ×•×ª |
| POST | `/api/email/send` | ×©×œ×™×—×ª ××™×™×œ |
| POST | `/api/messaging/send` | ×©×œ×™×—×ª WhatsApp |
| POST | `/api/zoom/create` | ×™×¦×™×¨×ª ×¤×’×™×©×ª Zoom |
| POST | `/api/zoom-webhook` | Zoom webhook receiver |
| GET | `/api/public-meeting/:token` | ×“×£ ××¤×’×© ×¦×™×‘×•×¨×™ (×œ××“×¨×™×›×™×) |
| GET | `/api/instructor-magic/:token` | ×›× ×™×¡×ª ××“×¨×™×š ×¢× magic link |
| GET | `/api/invite/:token` | ×”×’×“×¨×ª ×¡×™×¡××” ×œ××“×¨×™×š ×—×“×© |
| GET | `/api/health` | Health check |

---

## ğŸ“Š ××•×“×œ ×”× ×ª×•× ×™×

### ×™×©×•×™×•×ª ×¢×™×§×¨×™×•×ª

```
Customer â”€â”€â”¬â”€â”€ Student â”€â”€â”€â”€ Registration â”€â”€â”€â”€ Attendance
           â”‚                    â”‚
           â”‚                    â–¼
Course â”€â”€â”€â”€â”´â”€â”€ Cycle â”€â”€â”€â”€â”€â”€â”€â”€ Meeting â”€â”€â”€â”€â”€â”€â”€â”€ MeetingExpense
                â”‚                â”‚
                â”œâ”€â”€ CycleExpense â”‚
                â”‚                â–¼
Branch â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           Instructor
                                â”‚
InstitutionalOrder â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

User (admin/manager/instructor)
AuditLog, SavedView
```

### ×¡×•×’×™ ××—×–×•×¨ (CycleType)
- **private** â€” ×©×™×¢×•×¨ ×¤×¨×˜×™, ×ª××—×•×¨ ×œ×¤×™ ×ª×œ××™×“
- **institutional_per_child** â€” ××•×¡×“×™, ×ª××—×•×¨ ×œ×¤×™ ×™×œ×“
- **institutional_fixed** â€” ××•×¡×“×™, ××—×™×¨ ×§×‘×•×¢ ×œ××¤×’×©

### ×¡×•×’×™ ×¡× ×™×£ (BranchType)
- school, community_center, frontal, online

### ×¡×•×’×™ ×¤×¢×™×œ×•×ª (ActivityType)
- online, frontal, private

### ×ª×¤×§×™×“×™ ××©×ª××© (UserRole)
- admin, manager, instructor

---

## ğŸ’» ×ª×”×œ×™×š ×¤×™×ª×•×—

### ××‘× ×” ×ª×™×§×™×•×ª

```
haitech-crm/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ routes/          # Express route handlers
â”‚   â”‚   â”œâ”€â”€ services/        # Business logic (email, zoom, messaging)
â”‚   â”‚   â”œâ”€â”€ middleware/       # Auth, validation, error handling
â”‚   â”‚   â”œâ”€â”€ utils/            # Helpers
â”‚   â”‚   â”œâ”€â”€ types/            # TypeScript types
â”‚   â”‚   â”œâ”€â”€ config.ts         # App configuration
â”‚   â”‚   â””â”€â”€ index.ts          # Entry point
â”‚   â”œâ”€â”€ prisma/
â”‚   â”‚   â”œâ”€â”€ schema.prisma     # Database schema
â”‚   â”‚   â”œâ”€â”€ migrations/       # Migration files
â”‚   â”‚   â””â”€â”€ seed.ts           # Seed data
â”‚   â”œâ”€â”€ scripts/              # Import/migration scripts
â”‚   â”œâ”€â”€ tests/                # Vitest tests
â”‚   â”œâ”€â”€ frontend-dist/        # Built frontend (served in production)
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ pages/            # Page components
â”‚   â”‚   â”œâ”€â”€ components/       # Shared components
â”‚   â”‚   â”œâ”€â”€ hooks/            # Custom React hooks
â”‚   â”‚   â”œâ”€â”€ api/              # API client (axios)
â”‚   â”‚   â”œâ”€â”€ context/          # React context (auth, etc.)
â”‚   â”‚   â”œâ”€â”€ types/            # TypeScript types
â”‚   â”‚   â”œâ”€â”€ App.tsx           # Root component + routing
â”‚   â”‚   â””â”€â”€ main.tsx          # Entry point
â”‚   â”œâ”€â”€ vite.config.ts
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ migration/                # Fireberry migration scripts & data
â”œâ”€â”€ docker-compose.yml        # Production
â”œâ”€â”€ docker-compose.dev.yml    # Development
â””â”€â”€ README.md
```

### Workflow

```bash
# 1. ×¤×™×ª×•×— ××§×•××™
cd backend && npm run dev     # API ×¢× hot reload (tsx watch)
cd frontend && npm run dev    # Vite dev server

# 2. ×©×™× ×•×™×™ database
cd backend
npx prisma migrate dev --name <migration-name>
npx prisma generate

# 3. ×‘×“×™×§×•×ª
cd backend && npm test

# 4. Build + Deploy
cd frontend && npm run build
cp -r dist ../backend/frontend-dist
cd ../
docker compose up -d --build api

# 5. Prisma Studio (GUI)
cd backend && npx prisma studio
```

---

## ğŸ”„ ××™×’×¨×¦×™×” ×-Fireberry

×‘×ª××¨×™×š **01.02.2026** ×‘×•×¦×¢×” ××™×’×¨×¦×™×” ×-Fireberry CRM:
- ×”×•×¢×‘×¨×• **127 ××—×–×•×¨×™×** ×¢× ×›×œ ×”× ×ª×•× ×™× ×”××©×•×™×›×™×
- ×¡×§×¨×™×¤×˜×™ ×”××™×’×¨×¦×™×” × ××¦××™× ×‘×ª×™×§×™×™×ª `migration/`
- ×›×œ ××—×–×•×¨ ×©××™×’×¨ ×©×•××¨ ××ª ×”-`fireberryId` ×”××§×•×¨×™ ×œ×¦×•×¨×š ××¢×§×‘
- ×“×•×— ××™×’×¨×¦×™×” ××¤×•×¨×˜: `migration/MIGRATION_REPORT.md`

### ×§×‘×¦×™ ××™×’×¨×¦×™×”
- `export-fireberry.sh` â€” ×™×™×¦×•× × ×ª×•× ×™× ×-Fireberry API
- `migrate_cycles.mjs` / `migrate_cycles_v2.mjs` â€” ×¡×§×¨×™×¤×˜×™ ××™×’×¨×¦×™×”
- `import_students_registrations.js` â€” ×™×™×‘×•× ×ª×œ××™×“×™× ×•×¨×™×©×•××™×
- `import_csv_cycles.js` â€” ×™×™×‘×•× ×-CSV
- `fix_all.mjs` â€” ×ª×™×§×•× ×™× ×œ××—×¨ ××™×’×¨×¦×™×”

---

## ğŸ“ ×”×¢×¨×•×ª × ×•×¡×¤×•×ª

- ×”××¢×¨×›×ª ×ª×•××›×ª ×‘-**RTL** (×¢×‘×¨×™×ª) ×‘×¦×“ ×”-Frontend
- **Soft delete** â€” ×¨×•×‘ ×”×™×©×•×™×•×ª ×ª×•××›×•×ª ×‘××—×™×§×” ×¨×›×” (`deletedAt`)
- **Audit log** â€” ×›×œ ×¤×¢×•×œ×ª CRUD × ×¨×©××ª ×¢× ×¤×¨×˜×™ ×”××©×ª××©
- **Saved Views** â€” ××©×ª××©×™× ×™×›×•×œ×™× ×œ×©××•×¨ ×ª×¦×•×’×•×ª ××¡×•× × ×•×ª ××•×ª×××•×ª ××™×©×™×ª
- **Rate limiting** â€” ×”×’× ×” ××¤× ×™ brute force ×¢×œ auth endpoints
- ×§×˜×’×•×¨×™×•×ª ×§×•×¨×¡×™×: ×ª×›× ×•×ª, AI, ×¨×•×‘×•×˜×™×§×”, ×”×“×¤×¡×ª 3D

---

*× ×‘× ×” ×¢×‘×•×¨ HaiTech â€” ×—×™× ×•×š ×˜×›× ×•×œ×•×’×™ ×œ×™×œ×“×™× ğŸš€*
